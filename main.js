!function(){"use strict";var e="",t=e+"4e8e0a1d604782a0dff8.svg",r=e+"798a55b25022c4c7fe2c.jpg";var s=class{constructor(e,t){var r,s,n;r=this,n=()=>this._hasInvalidInput(this._inputElements)?this.disableButton():this.enableButton(),(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(s="_toggleButtonState"))in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this.disableButton(),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};var n=class{constructor(e,t,r){var s,n,i;s=this,i=()=>{this._element.remove(),this._element=null},(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n="_handleDeleteButton"))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleCardClick=r}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".cards__content").cloneNode(!0)}getCardView(){this._element=this._getTemplate();const e=this._element.querySelector(".cards__image");return e.src=this._link,e.alt=this._name,this._element.querySelector(".cards__title").textContent=this._name,this._setEventListenersCard(),this._element}_setEventListenersCard(){this._element.querySelector(".cards__delete").addEventListener("click",(()=>this._handleDeleteButton())),this._likeButton=this._element.querySelector(".cards__like"),this._likeButton.addEventListener("click",(()=>this._handleLikeButton())),this._element.querySelector(".cards__image").addEventListener("click",(()=>this._handleCardClick({name:this._name,link:this._link})))}_handleLikeButton(){this._likeButton.classList.toggle("cards__like-active")}};class i{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){e.preventDefault(),"Escape"===e.key&&this.close()}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal__close-button")||e.target.classList.contains("modal_opened"))&&this.close()}))}}class o extends i{constructor(e,t){var r,s,n;super(e),r=this,n=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())},(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(s="_handleSubmit"))in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,this._handleFormSubmit=t,this._form=this._popup.querySelector(".modal__form"),this._formButton=this._popup.querySelector("modal__button"),this._inputList=this._popup.querySelectorAll(".modal__input")}_getInputValues(){const e={};return this._inputList.forEach((t=>e[t.name]=t.value)),e}setEventListeners(){this._form.addEventListener("submit",this._handleSubmit),super.setEventListeners()}close(){this._form.reset(),super.close()}}const a={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_error",errorClass:"modal__error_visible"},l={nameInput:"#name-input",jobInput:"#job-input",profTitle:"#prof-title",profSubtitle:"#prof-subtitle",previewModal:"#preview-modal",cardTemplate:"#card-template",editModal:"#edit-modal",addModal:"#add-modal",btnProfile:"#edit-profile",btnAddCard:"#btn-add-card",cardsList:".cards__list"},u=document.querySelector(l.editModal),c=document.querySelector(l.addModal),d=document.querySelector(l.btnProfile),m=document.querySelector(l.btnAddCard);document.querySelector(l.cardsList),document.querySelector("#image-logo").src=t,document.querySelector("#image-jacques").src=r;const _=new s(a,c),p=new s(a,u);_.enableValidation(),p.enableValidation();const h=new class{constructor(e,t){let{items:r,renderer:s}=e;this._initialArray=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._initialArray.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:v},l.cardsList);function v(e){const t=new n(e,l.cardTemplate,(e=>{b.open(e)}));h.addItem(t.getCardView())}h.renderItems();const b=new class extends i{constructor(e){super(e),this._previewImage=this._popup.querySelector(".modal__preview-image"),this._previewTitle=this._popup.querySelector(".modal__preview-text")}open(e){let{name:t,link:r}=e;this._previewImage.src=r,this._previewImage.alt=`Photo of ${t}`,this._previewTitle.textContent=t,super.open()}}(l.previewModal);b.setEventListeners();const f=new o(l.addModal,(e=>{v(e),f.close()}));f.setEventListeners(),m.addEventListener("click",(function(){f.open(),_.disableButton()}));const y=new class{constructor(e){let{userNameSelector:t,userJobSelector:r}=e;this._userName=document.querySelector(t),this._userJob=document.querySelector(r)}getUserInfo(){return{userName:this._userName.textContent,userJob:this._userJob.textContent}}setUserInfo(e){let{name:t,job:r}=e;this._userName.textContent=t,this._userJob.textContent=r}}({userNameSelector:l.profTitle,userJobSelector:l.profSubtitle}),S=new o(l.editModal,(e=>{y.setUserInfo(e),S.close()}));S.setEventListeners(),d.addEventListener("click",(function(){const{userName:e,userJob:t}=y.getUserInfo();document.querySelector(l.nameInput).value=e,document.querySelector(l.jobInput).value=t,p.disableButton(),S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixTQUFTbEMsY0FBY3VFLEVBQVVFLFVBQVVOLE1BQVFpRCxFQUNuRDdCLEVBQWtCdkcsZ0JBQ2xCd0ksRUFBWW5FLE1BQ2QsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSAnJztcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbGVtZW50cykpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuICFpbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGNhcmREYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2NvbnRlbnQnKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIGdldENhcmRWaWV3KCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IGNhcmRFbGVtZW50SW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19faW1hZ2UnKTtcbiAgICBjYXJkRWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgY2FyZEVsZW1lbnRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIGNvbnN0IGNhcmRFbGVtZW50VGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fdGl0bGUnKTtcbiAgICBjYXJkRWxlbWVudFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyc0NhcmQoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmNhcmRzX19kZWxldGUnKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCkpO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJyk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oKSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmNhcmRzX19pbWFnZScpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pXG4gICAgICApO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VCdXR0b24oKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkc19fbGlrZS1hY3RpdmUnKTtcbiAgfVxuXG4gIF9oYW5kbGVEZWxldGVCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdtb2RhbF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2xvc2UtYnV0dG9uJykgfHxcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9vcGVuZWQnKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG5cbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLm1vZGFsX19mb3JtJyk7XG4gICAgdGhpcy5fZm9ybUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJ21vZGFsX19idXR0b24nKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2lucHV0Jyk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IChpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVTdWJtaXQpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfaGFuZGxlU3VibWl0ID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgfTtcblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogJy5tb2RhbF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5tb2RhbF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ21vZGFsX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdtb2RhbF9faW5wdXRfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnbW9kYWxfX2Vycm9yX3Zpc2libGUnLFxufTtcblxuY29uc3Qgc2VsZWN0b3JzID0ge1xuICBuYW1lSW5wdXQ6ICcjbmFtZS1pbnB1dCcsXG4gIGpvYklucHV0OiAnI2pvYi1pbnB1dCcsXG4gIHByb2ZUaXRsZTogJyNwcm9mLXRpdGxlJyxcbiAgcHJvZlN1YnRpdGxlOiAnI3Byb2Ytc3VidGl0bGUnLFxuICBwcmV2aWV3TW9kYWw6ICcjcHJldmlldy1tb2RhbCcsXG4gIGNhcmRUZW1wbGF0ZTogJyNjYXJkLXRlbXBsYXRlJyxcbiAgZWRpdE1vZGFsOiAnI2VkaXQtbW9kYWwnLFxuICBhZGRNb2RhbDogJyNhZGQtbW9kYWwnLFxuICBidG5Qcm9maWxlOiAnI2VkaXQtcHJvZmlsZScsXG4gIGJ0bkFkZENhcmQ6ICcjYnRuLWFkZC1jYXJkJyxcbiAgY2FyZHNMaXN0OiAnLmNhcmRzX19saXN0Jyxcbn07XG5cbmNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmVkaXRNb2RhbCk7XG5jb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmFkZE1vZGFsKTtcbmNvbnN0IGJ0blByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5idG5Qcm9maWxlKTtcbmNvbnN0IGJ0bkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5idG5BZGRDYXJkKTtcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmNhcmRzTGlzdCk7XG5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICdZb3NlbWl0ZSBWYWxsZXknLFxuICAgIGxpbms6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTGFrZSBMb3Vpc2UnLFxuICAgIGxpbms6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnQmFsZCBNb3VudGFpbnMnLFxuICAgIGxpbms6ICdodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTGF0ZW1hcicsXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGcnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ1Zhbm9pc2UgTmF0aW9uYWwgUGFyaycsXG4gICAgbGluazogJ2h0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGcnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ0xhZ28gZGkgQnJhaWVzJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZycsXG4gIH0sXG5dO1xuXG5leHBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIGVkaXRNb2RhbCxcbiAgYnRuUHJvZmlsZSxcbiAgYWRkTW9kYWwsXG4gIGJ0bkFkZENhcmQsXG4gIGNhcmRzTGlzdCxcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgc2VsZWN0b3JzLFxufTtcbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IGxvZ29TcmMgZnJvbSAnLi4vaW1hZ2VzL2xvZ28uc3ZnJztcbmltcG9ydCBqYWNxdWVzU3JjIGZyb20gJy4uL2ltYWdlcy9qYWNxdWVzLWNvdXN0ZWF1LmpwZyc7XG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIGVkaXRNb2RhbCxcbiAgYnRuUHJvZmlsZSxcbiAgYWRkTW9kYWwsXG4gIGJ0bkFkZENhcmQsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHNlbGVjdG9ycyxcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuLy8gaW1hZ2VzXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UtbG9nbycpLnNyYyA9IGxvZ29TcmM7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UtamFjcXVlcycpLnNyYyA9IGphY3F1ZXNTcmM7XG5cbi8vIGZvcm0gdmFsaWRhdG9yXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGFkZE1vZGFsKTtcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZWRpdE1vZGFsKTtcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8gc2VjdGlvblxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgeyBpdGVtczogaW5pdGlhbENhcmRzLCByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LFxuICBzZWxlY3RvcnMuY2FyZHNMaXN0XG4pO1xuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcblxuLy8gcmVuZGVyIGNhcmRzXG5mdW5jdGlvbiByZW5kZXJDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsIChkYXRhKSA9PiB7XG4gICAgcG9wdXBJbWFnZVByZXZpZXcub3BlbihkYXRhKTtcbiAgfSk7XG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZC5nZXRDYXJkVmlldygpKTtcbn1cblxuLy8gcG9wdXAgd2l0aCBpbWFnZVxuY29uc3QgcG9wdXBJbWFnZVByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoc2VsZWN0b3JzLnByZXZpZXdNb2RhbCk7XG5wb3B1cEltYWdlUHJldmlldy5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBwb3B1cCB3aXRoIGZvcm06IGFkZCBjYXJkXG5jb25zdCBjcmVhdGVDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5hZGRNb2RhbCwgKGRhdGEpID0+IHtcbiAgcmVuZGVyQ2FyZChkYXRhKTtcbiAgY3JlYXRlQ2FyZEZvcm0uY2xvc2UoKTtcbn0pO1xuY3JlYXRlQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmJ0bkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVBZGRDYXJkRm9ybSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtKCkge1xuICBjcmVhdGVDYXJkRm9ybS5vcGVuKCk7XG4gIGNhcmRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcbn1cblxuLy8gdXNlciBpbmZvXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6IHNlbGVjdG9ycy5wcm9mVGl0bGUsXG4gIHVzZXJKb2JTZWxlY3Rvcjogc2VsZWN0b3JzLnByb2ZTdWJ0aXRsZSxcbn0pO1xuXG4vLyBwb3B1cCB3aXRoIGZvcm06IHVwZGF0ZSBwcm9maWxlXG5jb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5lZGl0TW9kYWwsIChkYXRhKSA9PiB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICBwcm9maWxlRm9ybS5jbG9zZSgpO1xufSk7XG5wcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuYnRuUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUVkaXRQcm9maWxlRm9ybSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlRm9ybSgpIHtcbiAgY29uc3QgeyB1c2VyTmFtZSwgdXNlckpvYiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMubmFtZUlucHV0KS52YWx1ZSA9IHVzZXJOYW1lO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5qb2JJbnB1dCkudmFsdWUgPSB1c2VySm9iO1xuICBlZGl0Rm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gIHByb2ZpbGVGb3JtLm9wZW4oKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fcHJldmlldy1pbWFnZScpO1xuICAgIHRoaXMuX3ByZXZpZXdUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fcHJldmlldy10ZXh0Jyk7XG4gIH1cblxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IGBQaG90byBvZiAke25hbWV9YDtcbiAgICB0aGlzLl9wcmV2aWV3VGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyTmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICB1c2VySm9iOiB0aGlzLl91c2VySm9iLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJmb3JtRWwiLCJ0aGlzIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVsZW1lbnRzIiwiZGlzYWJsZUJ1dHRvbiIsImVuYWJsZUJ1dHRvbiIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsImlucHV0TGlzdCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2FyZERhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJfZWxlbWVudCIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0Q2FyZFZpZXciLCJjYXJkRWxlbWVudEltYWdlIiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzQ2FyZCIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwidG9nZ2xlIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImtleSIsImNsb3NlIiwib3BlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1CdXR0b24iLCJfaW5wdXRMaXN0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiX2hhbmRsZVN1Ym1pdCIsInJlc2V0IiwidmFsaWRhdGlvbkNvbmZpZyIsInNlbGVjdG9ycyIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicHJvZlRpdGxlIiwicHJvZlN1YnRpdGxlIiwicHJldmlld01vZGFsIiwiY2FyZFRlbXBsYXRlIiwiZWRpdE1vZGFsIiwiYWRkTW9kYWwiLCJidG5Qcm9maWxlIiwiYnRuQWRkQ2FyZCIsImNhcmRzTGlzdCIsImxvZ29TcmMiLCJqYWNxdWVzU3JjIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJjYXJkU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckNhcmQiLCJkYXRhIiwiY2FyZCIsIkNhcmQiLCJwb3B1cEltYWdlUHJldmlldyIsIl9wcmV2aWV3SW1hZ2UiLCJfcHJldmlld1RpdGxlIiwiY3JlYXRlQ2FyZEZvcm0iLCJ1c2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsImdldFVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VySm9iIiwic2V0VXNlckluZm8iLCJfcmVmMiIsImpvYiIsInByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==